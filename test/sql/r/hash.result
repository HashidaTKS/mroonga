install plugin groonga soname 'ha_groonga.so';
set storage_engine=groonga;
drop table if exists t1, t2, t3;
create table t1 (c1 int primary key, c2 int, index using hash (c2));
show create table t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `c1` int(11) NOT NULL,
  `c2` int(11) DEFAULT NULL,
  PRIMARY KEY (`c1`),
  KEY `c2` (`c2`) USING HASH
) ENGINE=groonga DEFAULT CHARSET=latin1
insert into t1 values (1, 100);
insert into t1 values (2, 101);
insert into t1 values (3, 102);
select * from t1;
c1	c2
1	100
2	101
3	102
flush tables;
select * from t1;
c1	c2
1	100
2	101
3	102
drop table t1;
create table t1 (_id int, a int, primary key (_id) using hash);
insert into t1 values(null, 100);
ERROR 23000: Column '_id' cannot be null
insert into t1 values(1,100);
Warnings:
Warning	1265	data truncated for _id column
insert into t1 values(1,100);
Warnings:
Warning	1265	data truncated for _id column
insert into t1 values(1,100);
Warnings:
Warning	1265	data truncated for _id column
insert into t1 values(1,100);
Warnings:
Warning	1265	data truncated for _id column
select * from t1;
_id	a
1	100
2	100
3	100
4	100
select * from t1 where _id = 2;
_id	a
2	100
select * from t1 where _id = 20;
_id	a
drop table t1;
create table t1 (_id int, a int, unique key (_id) using hash);
insert into t1 values(null, 100);
insert into t1 values(null, 100);
insert into t1 values(null, 100);
insert into t1 values(null, 100);
select * from t1;
_id	a
1	100
2	100
3	100
4	100
select * from t1 where _id = 2;
_id	a
2	100
select * from t1 where _id = 20;
_id	a
drop table t1;
create table t1 (_id int, a int, key (_id) using hash);
insert into t1 values(null, 100);
insert into t1 values(null, 100);
insert into t1 values(null, 100);
insert into t1 values(null, 100);
select * from t1;
_id	a
1	100
2	100
3	100
4	100
select * from t1 where _id = 2;
_id	a
2	100
select * from t1 where _id = 20;
_id	a
drop table t1;
uninstall plugin groonga;
