drop table if exists diaries;
set names utf8;
create table diaries (
id int primary key,
title varchar(255),
content text,
fulltext index (content)
) default charset utf8;
show create table diaries;
Table	Create Table
diaries	CREATE TABLE `diaries` (
  `id` int(11) NOT NULL,
  `title` varchar(255) DEFAULT NULL,
  `content` text,
  PRIMARY KEY (`id`),
  FULLTEXT KEY `content` (`content`)
) ENGINE=mroonga DEFAULT CHARSET=utf8
insert into diaries values(1, "Hello", "今日からはじめました。");
insert into diaries values(2, "今日の天気", "今日の富士山の天気について");
insert into diaries values(3, "今日の富士山", "今日の富士山について");
insert into diaries values(4, "明日の天気", "明日の富士山の天気について");
insert into diaries values(5, "富士山", "今日も天気がよくてきれいに見える。");
select * from diaries where match(content) against("今日 天気" in boolean mode);
id	title	content
1	Hello	今日からはじめました。
2	今日の天気	今日の富士山の天気について
3	今日の富士山	今日の富士山について
5	富士山	今日も天気がよくてきれいに見える。
4	明日の天気	明日の富士山の天気について
select * from diaries where match(content) against("*D- 今日 天気" in boolean mode);
id	title	content
1	Hello	今日からはじめました。
3	今日の富士山	今日の富士山について
select * from diaries where match(content) against("*D- +今日 +天気" in boolean mode);
id	title	content
2	今日の天気	今日の富士山の天気について
5	富士山	今日も天気がよくてきれいに見える。
select * from diaries where match(content) against("*D- 今日 +富士山 天気" in boolean mode);
id	title	content
3	今日の富士山	今日の富士山について
drop table diaries;
