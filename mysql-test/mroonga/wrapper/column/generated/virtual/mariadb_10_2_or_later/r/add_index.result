DROP TABLE IF EXISTS logs;
CREATE TABLE logs (
id INT PRIMARY KEY,
record JSON,
message VARCHAR(255) GENERATED ALWAYS AS (json_extract(`record`, '$.message')) VIRTUAL
) ENGINE=Mroonga DEFAULT CHARSET=utf8mb4 COMMENT = 'ENGINE "InnoDB"';
ALTER TABLE logs ADD FULLTEXT INDEX (message);
ERROR HY000: mroonga: wrapper: failed to create index: Index for virtual generated column is not supported: message
DROP TABLE logs;
